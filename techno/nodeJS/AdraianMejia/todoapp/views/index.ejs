<!DOCTYPE html>
<html>
<head>
	<title><%= title %></title>
	<link rel='stylesheet' href='/styles/style.css' />
</head>
<body ng-app="app">
	
<!-- MAIN PAGE -->
  <header>
    <div class="container">
      <h1><%= title %></h1>
    </div>
  </header>
	
  <div class="container">
    <div ng-view></div>
	</div>

<!-- TEMPLATES -->
  <!-- todos.html -->
  <script type="text/ng-template" id="/todos.html">
    Search: <input type="text" ng-model="search.name">
    <ul>
      <li ng-repeat="todo in todos | filter: search">            
        <button ng-show="!editing[$index]" ng-click="edit($index)" class="button button-edit">edit</button>
        <button ng-show="!editing[$index]" ng-click="remove($index)" class="button button-remove">remove</button>
        <button ng-show="editing[$index]" ng-click="update($index)" class="button button-update">Update</button>
        <button ng-show="editing[$index]" ng-click="cancel($index)" class="button button-cancel">Cancel</button>

        <input type="checkbox" ng-model="todo.completed" ng-change="update($index)">            
        <a ng-show="!editing[$index]" href="#/{{ todo._id }}">{{ todo.name }}</a>
        <input ng-show="editing[$index]" type="text" ng-model="todo.name">
        
      </li>
    </ul>
    New task <input type="text" ng-model="newTodo"><button ng-click="save()">Create</button>
  </script>

  <!-- todoDetails.html -->
  <script type="text/ng-template" id="/todoDetails.html">
    <h1>{{ todo.name }}</h1>
    completed: <input type="checkbox" ng-model="todo.completed"><br>
    note: <textarea ng-model="todo.note"></textarea><br><br>
    <button ng-click="update()">update</button>
    
    <a href="#" ng-click="remove()">remove</a>
    <a href="/">Cancel</a>
  </script>

<!-- SCRIPTS -->
  <!-- libraries -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-resource.min.js"></script>
  <!-- perso -->
  <script src="js/script.js"></script>

</body>
</html>
